# Practica 1: Implementacion de un Autómata de Estados Finito Reactivo

## Descripción del funcionamiento

1. Estado Avanzando
   La aspiradora se mueve siguiendo una trayectoria en espiral de Arquímedes, lo que permite explorar progresivamente más superficie.

   Si detecta un obstáculo mediante los sensores de choque (Bumper), cambia al estado Girando.

2. Estado Girando
   Realiza un giro aleatorio dentro de un rango de 30° a 60°, para modificar su rumbo y evitar quedarse atascada.

   El giro se controla con la orientación (yaw), que aunque imprecisa, es suficiente para la lógica básica del robot.

   Según el sensor de impacto, puede girar en un sentido u otro.

   Cuando completa el ángulo deseado, cambia al estado Retrocediendo.

3. Estado Retrocediendo
   La aspiradora retrocede durante un tiempo fijo (1.6 segundos en este caso).

   Una vez finalizado el retroceso, vuelve al estado Avanzando, reiniciando la espiral con radio pequeño para retomar la exploración.
   
## Características técnicas

**Autómata de 3 estados:** Avanzando, Girando y Retrocediendo.

**Movimiento pseudoaleatorio:** garantiza una cobertura estocástica de la superficie.

**Trayectoria en espiral de Arquímedes para el avance**, limitada por una velocidad máxima configurable.

**Detección de obstáculos** mediante el sensor de choque (Bumper).

**Reactividad constante:** el bucle principal se ejecuta sin sleep, utilizando un control de frecuencia de 10 Hz.

**Orientación aproximada:** se emplea el valor de yaw para medir giros, sin confiar en la odometría acumulada (que contiene ruido).

## Estructura del código

Estados definidos:
<pre>
AVANZANDO = 0
RETROCEDIENDO = 1
GIRANDO = 2
</pre>

- **Control de espiral:** parámetros r0, k, omega, max_v ajustan el patrón de exploración.

- **Control temporal:** se usan marcas de tiempo (time.time()) para medir la duración del retroceso.

- **Bucle principal:** ejecuta la máquina de estados a 10 Hz mediante Frequency.tick(10).

## Limitaciones del sistema

- No utiliza mapas ni localización robusta, solo sensores simples.

- El cálculo de posición mediante odometría no es confiable y no se usa directamente.

- La cobertura del área es estocástica, por lo que no se garantiza una limpieza óptima, solo eventual.

### Ejecución

El programa debe ejecutarse en un entorno con las siguientes dependencias:

<pre>
import WebGUI
import HAL
import Frequency
import math
import random
import time
</pre>

Al ejecutarse, el robot simulado mostrará en consola el estado actual y responderá a colisiones y giros de acuerdo a la lógica definida.

## License

This work is submitted under the **CC-BY-SA 4.0** license, meaning it can be shared and adapted as long as it is properly attributed and shared under the same terms.

## Autor

**Marina Antolínez Cabrero**
